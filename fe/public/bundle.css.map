{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../src/App.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import { kho } from \"./stores.js\";\n  import Khach from \"./Khach.svelte\";\n  import { filterListObj } from \"./utils.js\";\n\n  const API_URL = \"http://localhost:8888/api1108/\";\n\n  let dsnam = [2020, 2019, 2018, 2017, 2016];\n  let namhoso = 2019;\n  $kho.tblWidth = 20000;\n  $kho.progress = 0;\n  $kho.showProgress = true;\n  $kho.dskh = [];\n\n  function xemHoso() {\n    let apiurl = API_URL + \"hoso/\";\n    axios({\n      method: \"get\",\n      url: \"http://localhost:8888/api1108/hoso/\",\n      responseType: \"json\",\n      responseEncoding: \"utf8\",\n      onDownloadProgress: progressEvent => {\n        let percentCompleted = parseInt(\n          Math.round((progressEvent.loaded * 100) / progressEvent.total)\n        );\n        $kho.progress = percentCompleted;\n        console.log(\"$kho.progress=\" + $kho.progress);\n      }\n    }).then(response => {\n      let dulieu = response.data;\n      console.log(\"response.data=\" + dulieu);\n      if (dulieu !== null || dulieu !== undefined || dulieu !== \"\") {\n        $kho.dskh = dulieu.hoso;\n        console.log(\"$dulieu.hoso=\" + dulieu.hoso);\n        console.log(\"$dulieu.info=\" + dulieu.info);\n      }\n    });\n  }\n\n  let dskh = [\n    {\n      mahoso: \"2019hs001\",\n      khachhang: \"Nguyen Van A\",\n      sohoso: \"GM01200/19\",\n      diachi: \"123 Tran Van Thoi, Q10\"\n    },\n    {\n      mahoso: \"2019hs002\",\n      khachhang: \"Pham Van Tuan\",\n      diachi: \"625 Tran Van Thoi, Q11\"\n    },\n    {\n      mahoso: \"2019hs003\",\n      khachhang: \"Tran Van Ty\",\n      diachi: \"1243 Tran Van Thoi, Q12\"\n    },\n    {\n      mahoso: \"2019hs004\",\n      khachhang: \"Nguyen Thi Nhanh\",\n      diachi: \"125 Tran Van Thoi, Q12\"\n    }\n  ];\n  // tim kiem\n  $kho.dskh = dskh;\n  let stim = \"\";\n  let dstim = [];\n  let curdstim = 0;\n  function addDsTim(event) {\n    if (event.key === \"Enter\" && stim.length > 0) {\n      stim = stim.trim();\n      let dai = dstim.length;\n      let data = [stim];\n      for (let i = 0; i < dai; i++) {\n        if (dstim[i] !== stim) {\n          data.push(dstim[i]);\n        }\n      }\n      dstim = data;\n      stim = \"\";\n    }\n  }\n  function xoaDstim() {\n    let dai = dstim.length;\n    let data = [];\n    for (let i = 0; i < dai; i++) {\n      if (i !== curdstim) {\n        data.push(dstim[i]);\n      }\n    }\n    dstim = data;\n  }\n  function locNhom(nhom) {\n    let l = nhom.length || 0;\n    let data = $kho.dskh;\n    if (l > 0) {\n      for (let i = 0; i < l; i++) {\n        let s = nhom[i];\n        data = filterListObj(data, s);\n      }\n    }\n    return data;\n  }\n  $: dsLocNhom = locNhom(dstim);\n  $: dsLoc = filterListObj(dsLocNhom, stim);\n  let curHoso = 0;\n  // phan trang\n  // tao scroll y\n  let rongbang = 2000;\n  $: $kho.tblWidth = rongbang - 10;\n</script>\n\n<style>\n  h3 {\n    color: purple;\n  }\n  tbody {\n    display: block;\n    max-height: 36px;\n    overflow-y: auto;\n  }\n  thead,\n  tbody tr {\n    display: table;\n    table-layout: fixed;\n  }\n</style>\n\n<section>\n  <header class=\"container-fluid\">\n    <div class=\"row justify-content-center text-primary\">\n      <div class=\"col-auto\">\n        <h3>DANH SÁCH KHÁCH HÀNG - NHẬN ĐƠN NĂM&nbsp;</h3>\n      </div>\n      <div class=\"col-auto\">\n        <div class=\"input-group\">\n          <select class=\"custom-select\" id=\"selectnam\" bind:value={namhoso}>\n            {#each dsnam as namlamviec}\n              <option value={namlamviec}>{namlamviec}</option>\n            {/each}\n          </select>\n        </div>\n      </div>\n      <div class=\"col-auto\">\n        <button\n          class=\"btn btn-outline-primary btn-rounded\"\n          type=\"button\"\n          on:click={xemHoso}>\n          <i class=\"fa fa-sync-alt\" />\n        </button>\n      </div>\n    </div>\n    {#if $kho.showProgress}\n      <div class=\"row\">\n        <div class=\"col\">\n          <div class=\"progress\">\n            <div\n              class=\"progress-bar progress-bar-striped progress-bar-animated\n              bg-info\"\n              role=\"progressbar\"\n              aria-valuenow={$kho.progress}\n              aria-valuemin=\"0\"\n              aria-valuemax=\"100\"\n              style=\"width: {$kho.progress}%\">\n              {$kho.progress}%\n            </div>\n          </div>\n        </div>\n      </div>\n    {/if}\n    <div>&nbsp;</div>\n    <div class=\"row\">\n      <div class=\"col border border-primary\">\n        <div class=\"row\">\n          <div class=\"col\">\n            {#each dstim as item, id}\n              <button\n                type=\"button\"\n                class=\"btn btn-outline-info\"\n                on:mouseover={() => (curdstim = id)}\n                on:click|preventDefault={xoaDstim}>\n                {item} - id={id} - cur={curdstim}\n              </button>\n            {/each}\n          </div>\n          <div class=\"col-auto\">\n            <button class=\"btn\" on:click={() => (dstim = [])}>\n              <i class=\"fa fa-trash fa-lg\" />\n              Xóa hết\n            </button>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-3\">\n        <input\n          class=\"col\"\n          type=\"search\"\n          bind:value={stim}\n          on:keydown={addDsTim}\n          placeholder=\"Tìm ... (không phân biệt chữ hoa hay thường)\" />\n      </div>\n    </div>\n    <hr />\n  </header>\n  <main>\n    <div class=\"container-fluid\">\n      <div class=\"table-responsive\" bind:clientWidth={rongbang}>\n        <table class=\"table table-hover\">\n          <thead style=\"width:{$kho.tblWidth}px;\">\n            <tr>\n              <th scope=\"col\">STT</th>\n              <th scope=\"col\">Mã hồ sơ</th>\n              <th scope=\"col\">Số hồ sơ</th>\n              <th scope=\"col\">Khách hàng</th>\n              <th scope=\"col\">Địa chỉ</th>\n              <th scope=\"col\">Liên hệ</th>\n              <th scope=\"col\">Ghi chú</th>\n            </tr>\n          </thead>\n          <tbody>\n            {#each dsLoc as khach, id}\n              <Khach {...khach} , id />\n            {/each}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </main>\n  <footer>\n    <br />\n    <div class=\"row\">\n      <div class=\"col-auto\">Tổng số hồ sơ: {$kho.dskh.length}</div>\n      <div class=\"col\">\n        rongbang = {rongbang} - $kho.tblWidth={$kho.tblWidth}\n      </div>\n      <div class=\"col-auto\">\n        bạn đang xem hồ sơ thứ {curHoso} trong {dsLoc.length} hồ sơ chọn lọc\n      </div>\n    </div>\n  </footer>\n</section>\n"
  ],
  "names": [],
  "mappings": "AAgHE,EAAE,eAAC,CAAC,AACF,KAAK,CAAE,MAAM,AACf,CAAC,AACD,KAAK,eAAC,CAAC,AACL,OAAO,CAAE,KAAK,CACd,UAAU,CAAE,IAAI,CAChB,UAAU,CAAE,IAAI,AAClB,CAAC,AACD,KAAK,eACI,CAAC,AACR,OAAO,CAAE,KAAK,CACd,YAAY,CAAE,KAAK,AACrB,CAAC"
}